(function(e){"use strict";var t=function(e,t){let a=e[0].querySelectorAll(".tp-search-filter"),l=a[0].querySelectorAll(".tp-search-form"),o=document.querySelector(".tp-filter-tag-wrap"),r=document.querySelectorAll(".tp-filter-tag-wrap"),n=a[0].dataset.connection,s=a[0].dataset.basic?JSON.parse(a[0].dataset.basic):[],i={},c=[],d=[],p=[],u=document.querySelectorAll("."+n);u.forEach(function(e,t){p[t]=e.dataset.searchattr?JSON.parse(e.dataset.searchattr):[],p[t].filtertype="search_list",p[t].ajaxButton=1}),s.URLParameter&&(window.onload=function(){let t=new URL(window.location.href);if(t.search){let a=new URLSearchParams(t.search);l.forEach(function(t){let l=JSON.parse(t.dataset.field),o=[];if(l.search){let e=t.querySelectorAll(".tp-search-input");0<e.length&&(e.forEach(function(e,t){e.value=l.search[t].name?a.get(l.search[t].name):""}),i=_(l.search,e,o))}let n=[];if(l.alphabet){let e=t.querySelectorAll(".tp-alphabet-wrapper");0<e.length&&e.forEach(function(t,o){let r=l.alphabet[o]&&l.alphabet[o].name?l.alphabet[o].name:"",s=r?a.get(r):"";s&&(s.split(",").forEach(function(t){e[o].querySelector("#tp-"+t).checked=1}),i=A(l.alphabet,n))})}let s=[];if(l.checkBox){let e=document.querySelectorAll(".tp-wp-checkBox");0<e.length&&e.forEach(function(t,o){let r=t&&t.dataset&&t.dataset.tpprefix?t.dataset.tpprefix:"tp-",n=a?a.get(`checkbox-${r.split("-")[1]}`):"";n&&(n.split(",").forEach(function(t){0<e[o].querySelectorAll("#"+r+t).length&&(e[o].querySelector("#"+r+t).checked=1)}),i=L(l.checkBox,s))})}let c=[];if(l.radio){let t=e[0].querySelectorAll(".tp-star-rating");0<t.length&&t.forEach(function(e,o){let r=l.radio[o]&&l.radio[o].name?l.radio[o].name:"",n=r?a.get(r+"_"+o):"";n&&(n.split(",").forEach(function(e){t[o].querySelector(".stars-"+e).checked=1}),i=k(l.radio,c))});let o=document.querySelectorAll(".tp-wp-radio");0<o.length&&o.forEach(function(e,t){let r=e&&e.dataset&&e.dataset.tpprefix?e.dataset.tpprefix:"tp-",n=a?a.get(`radio-${r.split("-")[1]}`):"";n&&(n.split(",").forEach(function(e){o[t]&&0<o[t].querySelectorAll("#"+r+e).length&&(o[t].querySelector("#"+r+e).checked=1)}),i=k(l.radio,c))})}let d=[];if(l.select){let e=document.querySelectorAll(".tp-select");0<e.length&&e.forEach(function(e,t){let o=l.select[t]&&l.select[t].name?l.select[t].name:"",r=o?a.get("select_"+o+"_"+t):"";if(r){let t=document.getElementById(r),a=t.querySelector(".tp-dd-labletxt").textContent,o=e.querySelector("input"),n=e.querySelector(".tp-select-dropdown span");o.value=r,o.dataset.txtval=a,n.textContent=a,i=E(l.select,d)}})}let p=[];if(l.date){let e=document.querySelectorAll(".tp-date-wrap");0<e.length&&e.forEach(function(t,o){let r=l.date[o]&&l.date[o].layout?l.date[o].layout:"";if("style-1"==r){let t=a.get("date");if(t){let a=t.split(",");e[0].querySelector(".tp-date .tp-datepicker1").value=a[0],e[0].querySelector(".tp-date1 .tp-datepicker1").value=a[1]}i=w(l.date,p)}else if("style-2"==r){let e=a.get("date"),o=t.querySelectorAll(".tp-datepicker1");if(e&&0<o.length){let a=e.split(",");t.querySelector(".tp-datepicker1").setAttribute("value",a[0]+"-"+a[1])}i=w(l.date,p)}})}let u=[];if(l.color){let t=e[0].querySelectorAll(".tp-woo-color");0<t.length&&t.forEach(function(e,o){let r=l.color[o]&&l.color[o].name?l.color[o].name:"",n=l.color[o]&&l.color[o].type?l.color[o].type:"taxonomy",s=r?a.get(r+"_"+o):"";s&&(s.split(",").forEach(function(e){"acf_conne"==n?t[o].querySelector("#tp-"+e.replace(/#/g,"")).checked=1:t[o].querySelector("#tp-"+e).checked=1}),i=q(l.color,u))})}let h=[];if(l.image){let t=e[0].querySelectorAll(".tp-woo-image");0<t.length&&t.forEach(function(e,o){let r=l.image[o]&&l.image[o].name?l.image[o].name:"",n=r?a.get(r+"_"+o):"";n&&(n.split(",").forEach(function(e){t[o].querySelector("#tp-"+e).checked=1}),i=q(l.image,h))})}let g=[];if(l.button){let t=e[0].querySelectorAll(".tp-woo-button");0<t.length&&t.forEach(function(e,o){let r=l.button[o]&&l.button[o].name?l.button[o].name:"",n=r?a.get(r+"_"+o):"";n&&(n.split(",").forEach(function(e){t[o].querySelector("#tp-"+e).checked=1}),i=q(l.button,g))})}let y=[];if(l.tabbing){let t=e[0].querySelectorAll(".tp-tabbing");0<t.length&&t.forEach(function(e,o){let r=l.tabbing[o]&&l.tabbing[o].name?l.tabbing[o].name:"",n=r?a.get("tab_"+r+"_"+o):"";n&&(n.split(",").forEach(function(e){t[o].querySelector("#tp-"+e).checked=1}),i=q(l.tabbing,y))})}0<r.length&&r.forEach(function(e){e.innerHTML=o.join(" ")+n.join(" ")+s.join(" ")+" "+c.join(" ")+" "+d.join(" ")+" "+p.join("")+" "+u.join("")+" "+h.join("")+" "+g.join("")+" "+y.join("")}),D(i)})}}),function(){let l=a[0].querySelectorAll(".tp-date-wrap.style-2");if(0<l.length){t("#tp-datepicker1").on("cancel.daterangepicker",function(){t(this).val(""),t(this).trigger("change")}),t("#tp-datepicker1").on("apply.daterangepicker",function(e,a){t(this).val(a.startDate.format("MM/DD/YYYY")+" - "+a.endDate.format("MM/DD/YYYY")),t(this).trigger("change")});let a,o=l[0]&&l[0].dataset&&l[0].dataset.customdate?JSON.parse(l[0].dataset.customdate):"",r=o&&o.DefaultSelect?o.DefaultSelect:0,n=o&&o.DisplayDate?o.DisplayDate:0,s=o&&o.DisplayYear?o.DisplayYear:0,i=!!(o&&o.AutoApplyBtn),c=!!(o&&o.showDropdown),d=!!(o&&o.ShowCalendars),p=!!(o&&o.showranges),u=!!(o&&o.ShowWeekNumber),h=!!(o&&o.linkedCalendar),g=!!(o&&o.ShowCustomRangeLabel),y=o&&o.ApplyBtntxt?o.ApplyBtntxt:"",x=o&&o.CancelBtntxt?o.CancelBtntxt:"",m=o&&o.ApplyBtnclass?o.ApplyBtnclass:"",f=o&&o.CancelBtnclass?o.CancelBtnclass:"",S=o&&o.CustomLabelTxt?o.CustomLabelTxt:"",v=o&&o.DropsPosition?o.DropsPosition:"auto",b=o&&o.OpensPosition?o.OpensPosition:"left",q=0;r&&(a=o&&o.StartDate?o.StartDate:0,q=o&&o.EndDate?o.EndDate:0);let A,L=0;n&&(A=o&&o.Min_date?o.Min_date:0,L=o&&o.Max_date?o.Max_date:0);let k,E="";s&&(k=o&&o.Min_Year?+o.Min_Year:"",E=o&&o.Max_Year?+o.Max_Year:"");let _="";p&&o&&o.RangesOption&&(_={},o.RangesOption.today&&(_.Today=[moment(),moment()]),o.RangesOption.yesterday&&(_.Yesterday=[moment().subtract(1,"days"),moment().subtract(1,"days")]),o.RangesOption.ThisMonth&&(_["Last Month"]=[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]),o.RangesOption.LastMonth&&(_["This Month"]=[moment().startOf("month"),moment().endOf("month")]),o.RangesOption.Last30Days&&(_["Last 30 Days"]=[moment().subtract(29,"days"),moment()]),o.RangesOption.Last7Days&&(_["Last 7 Days"]=[moment().subtract(6,"days"),moment()]));let w,N="";d&&(w,N=[],o&&o.locale&&o.locale.Week&&(N=[o.locale.Week[0]?o.locale.Week[0]:"Su",o.locale.Week[0]?o.locale.Week[1]:"Mo",o.locale.Week[2]?o.locale.Week[2]:"Tu",o.locale.Week[3]?o.locale.Week[3]:"We",o.locale.Week[4]?o.locale.Week[4]:"Th",o.locale.Week[5]?o.locale.Week[5]:"Fr",o.locale.Week[6]?o.locale.Week[6]:"Sa"]),o&&o.locale&&o.locale.Months&&(w=[o.locale.Months[0]?o.locale.Months[0]:"January",o.locale.Months[1]?o.locale.Months[1]:"February",o.locale.Months[2]?o.locale.Months[2]:"March",o.locale.Months[3]?o.locale.Months[3]:"April",o.locale.Months[4]?o.locale.Months[4]:"May",o.locale.Months[5]?o.locale.Months[5]:"June",o.locale.Months[6]?o.locale.Months[6]:"July",o.locale.Months[7]?o.locale.Months[7]:"August",o.locale.Months[8]?o.locale.Months[8]:"September",o.locale.Months[9]?o.locale.Months[9]:"October",o.locale.Months[10]?o.locale.Months[10]:"November",o.locale.Months[11]?o.locale.Months[11]:"December"])),t(".tp-custom-date",e).daterangepicker({showDropdowns:c,autoApply:i,alwaysShowCalendars:d,showWeekNumbers:u,linkedCalendars:h,singleDatePicker:!1,drops:v,opens:b,showCustomRangeLabel:g,ranges:_,minYear:k,maxYear:E,startDate:a,endDate:q,minDate:A,maxDate:L,autoUpdateInput:!1,locale:{separator:" - ",applyLabel:y,cancelLabel:x,customRangeLabel:S,daysOfWeek:N,monthNames:w},applyButtonClasses:m,cancelClass:f},function(){})}}();let h=document.querySelectorAll(".grid-item");if(0<h.length){let e=document.querySelectorAll(".tp-total-results-txt"),t=u[0].dataset.totalResult;0<e.length&&e.forEach(function(e){let a=e.previousElementSibling.textContent.replaceAll("{visible_product_no}",h.length),l=a.replaceAll("{total_product_no}",t);e.style.cssText="display:block;",e.innerHTML=l})}let g=a[0].querySelectorAll(".tp-filter-readmore");0<g.length&&g.forEach(function(e){let a=e.dataset.showmore?JSON.parse(e.dataset.showmore):"",l=a.ShowOn,o=a.ShowValue,r=a.className,n=a.ShowMoretxt,s=a.Showlesstxt,i=a.ScrollclassName,c=a.scrollOn,d=a.scrollheight,p=e.parentElement.parentNode,u=e.parentElement.previousElementSibling.className.split(" ")[0],h=p.querySelectorAll("."+u);"yes"==l&&(h.forEach(function(e,t){e.style.cssText=t<o?"tabbing"==r?"display:inline-flex;":"display:block;":"display:none;"}),e.addEventListener("click",function(){if(this.classList.contains("ShowMore")){if(h.forEach(function(e){e.style.cssText="tabbing"==r?"display:inline-flex;":"display:block;"}),this.innerHTML=s,this.classList.add("Showless"),this.classList.remove("ShowMore"),c){let e=this.parentNode.parentNode;e.classList.add(i),t(e).css("height",d)}}else if(this.classList.contains("Showless")&&(h.forEach(function(e,t){e.style.cssText=t<o?"tabbing"==r?"display:inline-flex;":"display:block;":"display:none;"}),this.innerHTML=n,this.classList.add("ShowMore"),this.classList.remove("Showless"),c)){let e=this.parentNode.parentNode;e.classList.remove(i),t(e).css("height","")}}))});let y=a[0].querySelectorAll(".tp-field-title");0<y.length&&y.forEach(function(e){let a=e&&e.dataset.showdata?JSON.parse(e.dataset.showdata):"",l=a?a.ToggleOn:"",o=a?a.DefaultValue:"",r=e?e.nextSibling:"",n=r.querySelectorAll(".tp-search-icon");0==o&&1==l&&(t(e.nextElementSibling).slideToggle(400),t(e.querySelector(".tp-toggle-up")).slideToggle(0),t(e.querySelector(".tp-toggle-down")).slideToggle(0)),e.addEventListener("click",function(){if(l){r.classList.contains("tp-search-wrap")&&0<n.length&&("none"==r.style.display?setTimeout(function(){n[0].style.cssText="opacity:1;transform: translateY(-50%) translateX(0px);transition: all 0.3s linear;"},500):n[0].style.cssText="opacity:0;transform: translateY(-50%) translateX(-10px);");let e=this.querySelector(".tp-toggle-up"),a=this.querySelector(".tp-toggle-down");t(this.nextElementSibling).slideToggle(500),t(e).slideToggle(0),t(a).slideToggle(0)}})});let x=a[0].querySelectorAll(".tp-button-filter");if(0<x.length){let e=JSON.parse(x[0].dataset.buttonFilter),a=e.Switcher,l=e.Number,o=e.showmore,r=e.showless,n=x[0].parentNode.querySelectorAll(".field-col"),s=x[0].querySelector(".tp-toggle-button");n.forEach(function(e,t){t>=l&&(e.style.cssText="display:none")}),s.addEventListener("click",function(){let e=this.querySelectorAll(".tp-button-text");this.classList.contains("active")?(0<e.length&&(e[0].textContent=o),this.classList.remove("active")):(0<e.length&&(e[0].textContent=r),this.classList.add("active")),n.forEach(function(e,a){a>=l&&t(e).slideToggle(500)})})}let m=a[0].querySelectorAll(".tp-toggle");0<m.length&&m.forEach(function(e){e.addEventListener("click",function(){t(this.parentElement.parentElement.nextElementSibling).slideToggle(400),this.classList.contains("open")?this.classList.remove("open"):this.classList.add("open")})});let f=a[0].querySelectorAll(".tp-select");0<f.length&&(t(".tp-select",e).on("click",function(){t(this).attr("tabindex",1).focus(),t(this).toggleClass("active"),t(this).find(".tp-sbar-dropdown-menu").slideToggle(300)}),t(".tp-select",e).focusout(function(){t(this).removeClass("active"),t(this).find(".tp-sbar-dropdown-menu").slideUp(300)}),t(".tp-select .tp-sbar-dropdown-menu .tp-searchbar-li",e).on("click",function(){this.parentNode.parentNode.querySelector("input").dataset.txtval=t(this).find(".tp-dd-labletxt").text(),t(this).parents(".tp-select").find("span").text(t(this).text()),t(this).parents(".tp-select").find("input").attr("value",t(this).attr("id")).change()}));let S=document.querySelectorAll(".tp-column-label");0<S.length&&S.forEach(function(e){e.addEventListener("click",function(){let t=e.parentNode.querySelectorAll(".tp-column-label.active");t.forEach(function(e){e.classList.remove("active")}),e.classList.add("active");let a=e.querySelector(".tp-column-input").value;a&&u.forEach(function(e,t){let l=JSON.parse(e.dataset.searchattr);l["desktop-column"]=a,l["mobile-column"]=a,l["tablet-column"]=a,e.setAttribute("data-searchattr",JSON.stringify(l)),p[t]["desktop-column"]=a,p[t]["mobile-column"]=a,p[t]["tablet-column"]=a;let o=document.querySelectorAll(".grid-item");0<o.length&&(o.forEach(function(e){e.classList.forEach(function(t){let l=t.substring(0,t.length-1);"tp-col-lg-"==l||"tp-col-lg-1"==l?e.classList.remove(t):"tp-col-md-"==l||"tp-col-md-1"==l?e.classList.remove(t):"tp-col-sm-"==l||"tp-col-sm-1"==l?e.classList.remove(t):("tp-col-"==l||"tp-col-1"==l)&&e.classList.remove(t),e.classList.add("tp-col-lg-"+a,"tp-col-md-"+a,"tp-col-sm-"+a,"tp-col-"+a)})}),F(p))})},!1)});let v=1,b=a[0].querySelectorAll(".tp-ajax-button");if(s&&s.AjaxButton&&0<b.length&&(u.forEach(function(e,t){p[t].ajaxButton=0,v=0}),b.forEach(function(e){e.addEventListener("click",function(){V("BeforeAjax",this),t(this).change()})})),0<l.length){let e=l[0].querySelectorAll(".tp-range");0<e.length&&e.forEach(function(a,l){let r=JSON.parse(a.dataset.sliderattr),n=r&&r.field?r.field:"",c={min:parseInt(r.minValue),max:parseInt(r.maxValue)};noUiSlider.create(a,{start:[0,parseInt(r.maxValue)],connect:!0,tooltips:!0,step:parseInt(r.stepValue),range:c},!0).on("change",function(c){let d=r.field;if(i[d]=r,c){if(i[d].value=c,s.URLParameter){let e=Math.floor(c[0])+","+Math.floor(c[1]);O(d+l,e)}let p="\u20B9 "+Math.floor(c[0])+"- \u20B9 "+Math.floor(c[1]),u=M(n,e[l],p);if(v&&D(i,a),null!==o){let e="<div class=\"tp-filter-container\"><a class=\"tp-tag-link\" data-type=\"range\" data-name=\""+r.name+"\" data-id=\""+c+"\"><span class=\"tp-filter-tag\"> <i class=\"fa fa-times\" aria-hidden=\"true\"></i> "+u+"</span></a>",a=o.querySelectorAll(".tp-tag-link[data-type=range]"),l=document.querySelectorAll(".tp-filter-removetag");0<a.length&&a[0].parentNode.remove(),0<l.length&&(l[0].classList.contains("start")?t(o).append(e):l[0].classList.contains("end")&&t(o).prepend(e),W("create"))}}})}),l.forEach(function(a){let r=JSON.parse(a.dataset.field);t(l).change(function(){let t=[],l=a.querySelectorAll(".tp-search-input");0<l.length&&(i=_(r.search,l,t));let n=[];r.alphabet&&(i=A(r.alphabet,n));let s=[];r.checkBox&&(i=L(r.checkBox,s));let c=[];r.radio&&(i=k(r.radio,c));let d=[];r.select&&(i=E(r.select,d));let p=[];r.date&&(i=w(r.date,p));let u=[];r.color&&(i=q(r.color,u));let h=[];r.image&&(i=q(r.image,h));let g=[];r.button&&(i=q(r.button,g));let y=[];r.tabbing&&(i=q(r.tabbing,y));let x=[];0<e.length&&e.forEach(function(e){let t=e?JSON.parse(e.dataset.sliderattr):"",a=t?t.minValue:"",l=t?t.maxValue:"",o=e.querySelectorAll(".noUi-handle-lower"),r=e.querySelectorAll(".noUi-handle-upper"),n=0,s=0,i="",c="";0<o.length&&(i=o[0]?o[0].querySelector(".noUi-tooltip").textContent:"",a!=+i&&(n=1)),0<r.length&&(c=r[0]?r[0].querySelector(".noUi-tooltip").textContent:"",l!=+c&&(s=1)),(s||n)&&x.push("<div class=\"tp-filter-container\"><a class=\"tp-tag-link\" data-type=\"range\" data-name=\"range\" data-id=\"price\"><span class=\"tp-filter-tag\"> <i class=\"fa fa-times\" aria-hidden=\"true\"></i> \u20B9 "+ +i+"- \u20B9 "+ +c+"</span></a>")}),o&&(o.innerHTML=t.join(" ")+n.join(" ")+s.join(" ")+" "+c.join(" ")+" "+d.join(" ")+" "+p.join("")+" "+u.join("")+" "+h.join("")+" "+g.join("")+" "+y.join("")+" "+x.join(""),W("create")),v&&D(i)})})}var q=function(t,a){return t.map(function(t,l){let o=t.name?t.name:"",r=t.field?t.field:"",n="",c="",d="";if(o){"tabbing"==r||"woo_SgTabbing"==r?(n="tabbing",c=e[0].querySelectorAll(".tp-tabbing"),d=c[l].querySelectorAll("input[name='"+o+"']:checked"),N(c,l)):"color"==r?(n="color",c=e[0].querySelectorAll(".tp-woo-color"),d=c[l].querySelectorAll("input[name='"+o+"']:checked")):"image"==r?(n="image",c=e[0].querySelectorAll(".tp-woo-image"),d=c[l].querySelectorAll("input[name='"+o+"']:checked")):"button"==r?(n="button",c=e[0].querySelectorAll(".tp-woo-button"),d=c[l].querySelectorAll("input[name='"+o+"']:checked")):(n="checkbox",d=e[0].querySelectorAll("input[name='"+o+"']:checked")),i[o]=t,i[o].value=[];let p="";0<d.length&&(d.forEach(function(e){let t=e?e.getAttribute("data-title"):"",s=M(r,c[l],t);i[o].value.push(e.value),T(e.value,o,s,a,n)}),p=i[o].value.toString()),s.URLParameter&&("tabbing"==r||"woo_SgTabbing"==r?O("tab_"+o+"_"+l,p):O(o+"_"+l,p))}}),i},A=function(t,a){let l=e[0].querySelectorAll(".tp-alphabet-wrapper");return t.forEach(function(e,t){let o=e.name?e.name:"",r=e.field?e.field:"";if(o){let n=l[t].querySelectorAll("input[name='"+o+"']:checked"),c=l[t].querySelectorAll(".tp-alphabet-item.active");if(i[o]=e,i[o].value=[],0<c.length&&c.forEach(function(e){e.classList.remove("active")}),0<n.length&&(n.forEach(function(e){let n=e.getAttribute("data-title"),s=M(r,l[t],n);e.parentNode.classList.add("active"),i[o].value.push(e.value),T(e.value,o,s,a,"alphabet")}),s.URLParameter)){let e=i[o].value.toString();O(o,e)}}}),i},L=function(t,a){let l=e[0].querySelectorAll(".tp-wp-checkBox");return t.forEach(function(e,t){let o=l&&l[t]&&l[t].dataset.tpprefix?l[t].dataset.tpprefix:"tp-",r=e.name?e.name:"",n=e.field?e.field:"";if(r){let o=l[t].querySelectorAll("input[name='"+r+"']:checked");if(o&&(i[r]=e,i[r].value=[],o.forEach(function(e){let o=e?e.getAttribute("data-title"):"",s=M(n,l[t],o);i[r].value.push(e.value),T(e.value,r,s,a,"checkBox")}),s.URLParameter)){let e=i[r].value.toString();O(`checkbox-${r}`,e)}}}),i},k=function(t,a){return t.forEach(function(t,l){let o=t.name?t.name:"",r=t.field?t.field:"";if(o){let n="",c="",d="",p="";if("radio"==r?(c=e[0].querySelectorAll(".tp-wp-radio"),n=c&&c[0]?c[0].querySelector("input[name='"+o+"']:checked"):"",p=n?n.getAttribute("data-title"):"",d=M(r,c[l],p)):"rating"==r&&(c=e[0].querySelectorAll(".tp-star-rating"),n=c&&c[0]?c[0].querySelector("input[name='"+o+"']:checked"):"",p=n?n.getAttribute("data-title"):"",d=M(r,c[0],p)),null!==n&&(i[o]=t,i[o].value=n.value,T(n.value,o,d,a,r),s.URLParameter)){let e=i[o].value.toString();"radio"==r?O(`radio-${o}`,e):"rating"==r&&O(o+"_"+l,e)}}}),i},E=function(t,a){let l=e[0].querySelectorAll(".tp-select");return t.forEach(function(e,t){let o="",r=e.name?e.name:"",n=e.field?e.field:"";if(r){let c=l[t].querySelectorAll("#"+r)[0],d=c&&c.dataset&&c.dataset.txtval?c.dataset.txtval:"";if(i[r]=e,"woo_SgDropDown"==n?c&&c.value?(o=M(n,l[t],d),i[r].value=[c.value],T(c.value,r,o,a,"select")):i[r].value="":c&&c.value?(o=M(n,l[t],d),i[r].value=c.value,T(c.value,r,o,a,"select")):i[r].value="",s.URLParameter){let e=i[r].value.toString();O("select_"+r+"_"+t,e)}}}),i},_=function(e,t,a){return e.forEach(function(e,l){let o=e.name?e.name:"",r=e.field?e.field:"",n=t[l]&&t[l].dataset.genericfilter?JSON.parse(t[l].dataset.genericfilter):[];if(o){let c=t[l]&&t[l].value?t[l].value:"",d=M(r,t[l],c);i[o]=e,i[o].value=c,i[o].Generic=n,c&&T("search","search",d,a,"search"),s.URLParameter&&O(o,c)}}),i},w=function(t,a){return t.map(function(t){let l=t.name?t.name:"",o=t.layout?t.layout:"",r=e[0].querySelectorAll("#"+l);if(i[l]=[],i[l]=t,i[l].value=[],0<r.length){let e,t,n="";if("style-1"==o)e=r[0]&&r[0].value?r[0].value:"",t=r[1]&&r[1].value?r[1].value:"";else if("style-2"==o){let a=r[0]&&r[0].value?r[0].value.split("-"):"";e=a[0]?a[0].trim():"",t=a[1]?a[1].trim():""}if(s.FilterTitle){let a=r[0].parentNode.parentNode.previousElementSibling.querySelector(".tp-title-text").textContent;n=a+" : "+e+" & "+t}else n=e+" & "+t;if(e&&t){i[l].value.push(e,t);let o=e+","+t;T(o,l,n,a,"date")}if(s.URLParameter){let e=i[l].value.toString();O("date",e)}}}),i},N=function(e,t){e[t].querySelectorAll(".tp-tabbing-wrapper").forEach(function(e){e.querySelector(".tp-tabbing-input:checked")?e.classList.add("active"):e.classList.remove("active")})},M=function(e,t,a){let l="";if(s.FilterTitle){let o="";if(["alphabet","button","color","checkBox","DropDown","woo_SgDropDown","image","radio","rating","tabbing","woo_SgTabbing"].includes(e)){let e=t&&t.previousElementSibling?t.previousElementSibling:"";if(e&&e.classList.contains("tp-field-title")){let t=e.querySelectorAll(".tp-title-text");0<t.length&&(o=t[0].textContent)}}else if(["range","search"].includes(e)){let e=t&&t.parentNode&&t.parentNode.previousElementSibling?t.parentNode.previousElementSibling:"";if(e&&e.classList.contains("tp-field-title")){let t=e.querySelectorAll(".tp-title-text");0<t.length&&(o=t[0].textContent)}}l=o+" : "+a}else l=a;return l},T=function(e,t,a,l,o){let r="";r+="<div class=\"tp-filter-container\">",r+=`<a class='tp-tag-link' data-type="${o}" data-name="${t}" data-id="${e}">`,r+="<span class=\"tp-filter-tag\">",r+="<i class=\"fa fa-times\" aria-hidden=\"true\"></i> ",r+=a,r+="</span>",r+="</a>",r+="</div>",l.push(r)},D=function(a,l){p.forEach(function(e,t){p[t].seapara=a,p&&p[t]&&(p[t].new_offset=0,p[t].loadMore_sf=0,p[t].lazyload_sf=0)}),jQuery(".tp-skeleton").css("visibility","visible"),jQuery(".tp-skeleton").css("opacity","1"),setTimeout(function(){jQuery.ajax({url:theplus_ajax_url,method:"post",async:!1,data:{action:"theplus_filter_post",option:p,nonce:s.security},beforeSend:function(){},success:function(e){if(e){W("success");let t=0;u.forEach(function(a,o){if(!(p&&p[o]&&"search_list"!==p[o].listing_type))if(e&&e[o]&&e[o].HtmlData){if(u[o].innerHTML="",a.innerHTML=e[o].HtmlData,t+=e[o].totalrecord,+p[o].display_post>=+e[o].totalrecord)J(a,o,e,l);else{let t=a.parentNode?a.parentNode:"",l=t.querySelectorAll(".ajax_load_more");0<l.length&&j(t,a,o,e,l);let r=t.querySelectorAll(".ajax_lazy_load");0<r.length&&C(t,a,o,e,r);let n=a.parentNode.querySelectorAll(".theplus-pagination");0<n.length&&R(n,a,o,e,p)}z(p,a,o)}else X(a,o)}),Y(t),I()}else u.forEach(function(e,t){p&&p[t]&&"search_list"!==p[t].listing_type||X(e,t)})},complete:function(){p.forEach(function(e,a){"grid"==e.layout||"masonry"==e.layout?u[a].parentNode.classList.contains("list-isotope")&&t(u[a]).isotope("reloadItems").isotope():"metro"==e.layout&&u[a].parentNode.classList.contains("list-isotope-metro")&&setTimeout(function(){theplus_setup_packery_portfolio("all")},300)})}}).then(function(){let t=document.querySelectorAll(".tp-tag-link");if(0<t.length)for(var a=0;a<t.length;a++)t[a].addEventListener("click",function(t){t.preventDefault();var a=this,o=a.getAttribute("data-name"),r=a.getAttribute("data-id"),n=a.getAttribute("data-type");if("checkBox"==n){let e=document.querySelectorAll(".tp-wp-checkBox");0<e.length&&e.forEach(function(e){let t=e&&e.dataset&&e.dataset.tpprefix?e.dataset.tpprefix:"tp-";document.getElementById(t+r).checked=!1}),s.URLParameter&&U(i,r,o,n)}else if("select"==n){let e=document.getElementById(o),t=e.parentNode.querySelector(".tp-select-dropdown span"),a=e.parentNode.querySelectorAll(".tp-sbar-dropdown-menu li")[0].textContent;e.value="",e.dataset.txtval="",t.textContent=a,i[o]=[]}else if("range"==n)l.noUiSlider.reset();else if("date"==n){let e=document.querySelectorAll("#"+o);e[0].value="",e[1].value="",i[o]=i[o].toString()}else if("search"==n)document.getElementById(o).value="";else if("alphabet"==n)document.getElementById("tp-"+r).checked=!1,document.getElementById("tp-"+r).parentNode.classList.remove("active"),i[o].value=[];else if("tabbing"==n){let t=e[0].querySelectorAll(".tp-tabbing");t.forEach(function(e){e.classList.contains("tp-wootab-sorting")?(e.querySelector("#"+o).parentNode.parentNode.classList.remove("active"),e.querySelector("#"+o).checked=!1):(e.querySelector("#tp-"+r).parentNode.parentNode.classList.remove("active"),e.querySelector("#tp-"+r).checked=!1)});let a=i[o].value.indexOf(r);i[o].value.splice(a,1)}else if("button"==n){let t=e[0].querySelectorAll(".tp-woo-button");t.forEach(function(e){e.querySelector("#tp-"+r).checked=0});let a=i[o].value.indexOf(r);i[o].value.splice(a,1)}else if("color"==n){let t=e[0].querySelectorAll(".tp-woo-color");t.forEach(function(e){e.querySelector("#tp-"+r).checked=0});let a=i[o].value.indexOf(r);i[o].value.splice(a,1)}else if("image"==n){let t=e[0].querySelectorAll(".tp-woo-image");t.forEach(function(e){e.querySelector("#tp-"+r).checked=0});let a=i[o].value.indexOf(r);i[o].value.splice(a,1)}else if("rating"==n){let t=e[0].querySelectorAll(".tp-star-rating");t.forEach(function(e){e.querySelector(".stars-"+r).checked=0}),i[o].value=0}else if("radio"==n){let e=document.querySelectorAll(".tp-wp-radio");0<e.length&&e.forEach(function(e){let t=e&&e.dataset&&e.dataset.tpprefix?e.dataset.tpprefix:"";document.querySelector(`#${t+r}`).checked=0}),s.URLParameter&&U(i,r,o,n)}else if("tagremove"==n){let e=document.querySelectorAll(".tp-search-form");0<e.length&&e.forEach(function(e,t){let a=e.parentNode.querySelectorAll(".tp-filter-tag-wrap");0<a.length&&a[t]&&(a[t].innerHTML="");let o=e.querySelectorAll(".tp-select");0<o.length&&o.forEach(function(e){let t=e.querySelector("input"),a=e.querySelector(".tp-select-dropdown span"),l=e.querySelectorAll(".tp-sbar-dropdown-menu li")[0].textContent;t.value="",t.dataset.txtval="",a.textContent=l,i[t.name]=[]});let r=e.querySelectorAll(".tp-range");0<r.length&&l&&l.noUiSlider&&l.noUiSlider.reset();let n=Object.keys(JSON.parse(e.dataset.field));0<n.length&&(e.reset(),e.dispatchEvent(new Event("change"),{bubbles:!0}))})}D(i),a.parentElement.remove()})})},1e3)},j=function(e,a,l,o,r){p[l].loadMore_sf=1,d[l]=0,B(r,l);let n=e.querySelectorAll(".filter-loadmore-"+l);0<n.length&&(jQuery(n[0]).unbind("click"),jQuery(n[0]).bind("click",function(){let e=this,r=e?e.dataset:[],n=r?r.tp_loading_text:"",i=r?r.loaded_posts:"";0==+d[l]&&(p[l].new_offset=+p[l].display_post),jQuery.ajax({url:theplus_ajax_url,method:"post",async:!1,data:{action:"theplus_filter_post",option:p,nonce:s.security},beforeSend:function(){e.textContent=n},success:function(r){if(e.textContent=p[l].loadmoretxt,r&&r[l]&&r[l].HtmlData){t(a).append(r[l].HtmlData),d[l]++,p[l].new_offset=+d[l]*+p[l].post_load_more+ +p[l].display_post,+p[l].new_offset>=+o[l].totalrecord&&(e.classList.add("hide"),t(e.parentNode).append("<div class=\"plus-all-posts-loaded\">"+i+"</div>"));let n=r[l].totalrecord;Y(n),z(p,a,l)}},complete:function(){let e=t(window);p.forEach(function(a,l){let o=a&&a.layout?a.layout:"",r=u&&u[l]&&u[l].parentNode?u[l].parentNode:"";"grid"==o||"masonry"==o?r.classList.contains("list-isotope")&&(t(u[l]).isotope("reloadItems").isotope(),e.resize()):"metro"==o&&r.classList.contains("list-isotope-metro")&&setTimeout(function(){theplus_setup_packery_portfolio("all")},300)})}})}))},B=function(e,t){let a=e[0].children?e[0].children:"";if(0<a.length){a[0].classList.remove("post-load-more"),a[0].classList.remove("hide"),a[0].classList.add("filter-loadmore-"+t),a[0].classList.add("tp-morefilter");let l=e[0].querySelectorAll(".plus-all-posts-loaded");0<l.length&&l.forEach(function(e){e.remove()})}},C=function(e,a,l,o,r){if(0<r.length){r[0].removeAttribute("style"),p[l].lazyload_sf=1,c[l]=0;let e=r[0]&&r[0].children[0]?r[0].children[0]:"",t=e&&e.nextSibling?e.nextSibling:"";"none"==e.style.display&&(e.style.cssText="display:block",t?t.remove():""),e.classList.add("filter-loadmore-"+l),e.classList.add("tp-morefilter"),e.classList.remove("post-lazy-load")}let n=e.querySelectorAll(".filter-loadmore-"+l);if(0<n.length){var i,d,h,g,y,x,m=t(window),f=function(){i=m.width(),d=m.height(),h=t("body").height(),y=t(".list-isotope,.list-isotope-metro").height(),x=t(".list-isotope,.list-isotope-metro").offset().top+50,setTimeout(function(){y=t(".list-isotope,.list-isotope-metro").height(),x=t(".list-isotope,.list-isotope-metro").offset().top+50},50)};f(),m.resize(f),m.bind("scroll",function(n){if(n.preventDefault(),f(),g=m.scrollTop(),y=t(".list-isotope,.list-isotope-metro").height(),x=t(".list-isotope,.list-isotope-metro").offset().top+50,t(".list-isotope,.list-isotope-metro").find(".filter-loadmore-"+l).length&&g<h&&g+60>y+x-d){var i=e.querySelector(".filter-loadmore-"+l),S=i&&i.dataset?i.dataset:"",v=S&&S.loaded_posts?S.loaded_posts:"";if(0==+p[l].new_offset&&(p[l].new_offset=+p[l].display_post),+p[l].new_offset>=+o[l].totalrecord)return;if(t(i).data("requestRunning"))return;t(i).data("requestRunning",!0),jQuery.ajax({url:theplus_ajax_url,method:"post",async:!1,data:{action:"theplus_filter_post",option:p,nonce:s.security},beforeSend:function(){},success:function(e){if(e&&e[l]&&e[l].HtmlData){t(a).append(e[l].HtmlData);let o=e[l].totalrecord;Y(o),z(p,a,l)}c[l]++,p[l].new_offset=+c[l]*+p[l].post_load_more+ +p[l].display_post,+p[l].new_offset>=+e[l].totalrecord&&(i.style.cssText="display:none",t(r).append("<div class=\"plus-all-posts-loaded\">"+v+"</div>"))},complete:function(){t(i).data("requestRunning",!1),p.forEach(function(e,a){let l=e&&e.layout?e.layout:"",o=u&&u[a]&&u[a].parentNode?u[a].parentNode:"";"grid"==l||"masonry"==l?o.classList.contains("list-isotope")&&(t(u[a]).isotope("reloadItems").isotope(),m.resize()):"metro"==l&&o.classList.contains("list-isotope-metro")&&setTimeout(function(){theplus_setup_packery_portfolio("all")},300)})}})}})}},R=function(t,a,l,o,r){t[0].removeAttribute("style"),r[l].Paginate_sf=1,H(t,l,o,r);let n=t[0].querySelectorAll(".tp-pagelink-"+l);n.forEach(function(e){e.addEventListener("click",function(n){n.preventDefault();let e=+this.dataset.page,s=(+e-1)*+r[l].display_post;r[l].new_offset=s;let i=t[0].querySelectorAll(".current");0<i.length&&(i[0].classList.remove("current"),i[0].classList.add("inactive"),this.classList.add("current"));let c=u[l].querySelectorAll(".tp-page-"+l+"-"+e);if(0<c.length){let n=u[l].querySelectorAll(".tp-page-active");return n.forEach(function(t){t.style.cssText=t.classList.contains("tp-page-"+l+"-"+e)?"display:block":"display:none"}),z(r,a,l),void R(t,a,l,o,r)}P(t,a,l,o,r)})});let s=t[0].querySelectorAll(".tp-sf-next-"+l);s.forEach(function(e){e.addEventListener("click",function(n){n.preventDefault();let e=+this.dataset.page,s=+e+1,i=+e*+r[l].display_post,c=t[0].querySelectorAll(".current"),d=t[0].querySelectorAll(".inactive");r[l].new_offset=i,0<c.length&&(c[0].classList.remove("current"),c[0].classList.add("inactive"),d.forEach(function(e){+e.dataset.page==s&&e.classList.add("current")}));let p=u[l].querySelectorAll(".tp-page-"+l+"-"+s);if(0<p.length){let e=u[l].querySelectorAll(".tp-page-active");return e.forEach(function(e){e.style.cssText=e.classList.contains("tp-page-"+l+"-"+s)?"display:block":"display:none"}),z(r,a,l),void R(t,a,l,o,r)}P(t,a,l,o,r)})});let i=t[0].querySelectorAll(".tp-sf-prev-"+l);i.forEach(function(e){e.addEventListener("click",function(n){n.preventDefault();let e=+this.dataset.page,s=+e-1,i=(+s-1)*+r[l].display_post,c=t[0].querySelectorAll(".current"),d=t[0].querySelectorAll(".inactive");r[l].new_offset=i,0<c.length&&(c[0].classList.remove("current"),c[0].classList.add("inactive"),d.forEach(function(e){+e.dataset.page==s&&e.classList.add("current")}));let p=u[l].querySelectorAll(".tp-page-"+l+"-"+s);if(0<p.length){let e=u[l].querySelectorAll(".tp-page-active");return e.forEach(function(e){e.style.cssText=e.classList.contains("tp-page-"+l+"-"+s)?"display:block":"display:none"}),z(r,a,l),void R(t,a,l,o,r)}P(t,a,l,o,r)})})},P=function(e,a,l,o,r){jQuery.ajax({url:theplus_ajax_url,method:"post",async:!1,cache:!1,data:{action:"theplus_filter_post",option:r,nonce:s.security},beforeSend:function(){},success:function(e){t(u[l]).append(e[l].HtmlData);let o=u[l].querySelectorAll(".grid-item");o.forEach(function(e){e.style.cssText="display:none"}),z(r,a,l)},complete:function(){let t=r&&r[l]&&r[l].layout?r[l].layout:"",n=u&&u[l]&&u[l].parentNode?u[l].parentNode:"";("grid"==t||"masonry"==t)&&n.classList.contains("list-isotope")||"metro"==t&&n.classList.contains("list-isotope-metro")&&setTimeout(function(){theplus_setup_packery_portfolio("all")},300),R(e,a,l,o,r)}})},H=function(e,t,a,l){let o=l[t].PageHtmlLoad,r=Math.ceil(a[t].totalrecord/l[t].display_post),n="",s="",i="";if(o){let a="",l="",o=e[0].querySelectorAll(".current");if(0<o.length){let e=+o[0].dataset.page;for(let o=1;o<=r;o++)n+=e==o?"<span class=\"current\" data-page=\""+ +o+"\">"+ +o+"</span>":"<a href=\"#\" class=\"inactive tp-pagelink-"+t+"\" data-page=\""+ +o+"\">"+ +o+"</a>",l=1==e?" tp-filter-hide":"",a=e==r?" tp-filter-hide":"";s="<a href=\"#\" class=\"paginate-next tp-sf-next-"+t+a+"\" data-page=\""+ +e+"\">NEXT<i class=\"fa fa-long-arrow-right\" aria-hidden=\"true\"></i></a>",i="<a href=\"#\" class=\"paginate-prev tp-sf-prev-"+t+l+"\" data-page=\""+ +e+"\"><i class=\"fas fa-long-arrow-alt-left\" aria-hidden=\"true\"></i> PREV</a>";let c=u[t].querySelectorAll(".grid-item");c.forEach(function(a){!1===a.classList.contains("tp-page-active")&&(a.style.cssText="display:block",a.classList.add("tp-page-active"),a.classList.add("tp-page-"+t+"-"+e))})}}else{l[t].PageHtmlLoad=1;for(let e=1;e<=r;e++)n+=1==e?"<span class=\"current\" data-page=\""+ +e+"\">"+ +e+"</span>":"<a href=\"#\" class=\"inactive tp-pagelink-"+t+"\" data-page=\""+ +e+"\">"+ +e+"</a>";let e=u[t].querySelectorAll(".grid-item");0<e.length&&e.forEach(function(e){e.classList.add("tp-page-active"),e.classList.add("tp-page-"+t+"-1")}),s="<a href=\"#\" class=\"paginate-next tp-sf-next-"+t+"\" data-page=\""+1+"\">NEXT<i class=\"fa fa-long-arrow-right\" aria-hidden=\"true\"></i></a>",i="<a href=\"#\" class=\"paginate-prev tp-sf-prev-"+t+" tp-filter-hide\" data-page=\""+1+"><i class=\"fas fa-long-arrow-alt-left\" aria-hidden=\"true\"></i> PREV</a>"}e[0].innerHTML=i+n+s},O=function(e,t){let a=new URL(window.location),l=new URLSearchParams(a.search);t?l.set(e,t):l.delete(e),a.search=l.toString(),window.history.pushState({},"",a)},U=function(e,t,a,l){let o=e[a]&&e[a].value?e[a].value:[];"checkBox"==l?o.forEach(function(l,o){if(t==l){let t=e[a].value.splice(o,2);0==e[a].value.length?(t="",O(`checkbox-${a}`,t)):O(`checkbox-${a}`,t)}}):"radio"==l&&(O(`radio-${a}`,Urldata),e[a].value=[])},W=function(e){let a=document.querySelectorAll(".tp-filter-tag-wrap");0<a.length&&a.forEach(function(l){let o=l.querySelectorAll(".tp-filter-tag");if("create"==e){let e=l.querySelectorAll(".tp-tag-reset");0<o.length&&0==e.length&&(l.nextSibling&&l.nextSibling.classList.contains("start")?t(l).prepend("<span class=\"tp-tag-reset-contener\"><a class=\"tp-tag-link\" data-type=\"tagremove\" data-name=\"tagremove\" data-id=\"tagremove\"><span class=\"tp-tag-reset\"><i class=\"fa fa-times\" aria-hidden=\"true\"></i> Reset all</span></a></span>"):l.nextSibling&&l.nextSibling.classList.contains("end")&&t(l).append("<span class=\"tp-tag-reset-contener\"><a class=\"tp-tag-link\" data-type=\"tagremove\" data-name=\"tagremove\" data-id=\"tagremove\"><span class=\"tp-tag-reset\"><i class=\"fa fa-times\" aria-hidden=\"true\"></i> Reset all</span></a></span>"))}else"success"==e&&0==o.length&&(a[0].innerHTML="")})},Y=function(e=0){let t=document.querySelectorAll(".grid-item :not(.theplus-posts-not-found)"),a=document.querySelectorAll(".tp-total-results-txt");if(0==t.length)a.forEach(function(e){let t=e.previousElementSibling.textContent.replaceAll("{visible_product_no}",0),a=t.replaceAll("{total_product_no}",0);e.innerHTML=a});else{let t=document.querySelectorAll(".grid-item");a.forEach(function(a){let l=a.previousElementSibling.textContent.replaceAll("{visible_product_no}",t.length),o=l.replaceAll("{total_product_no}",e);a.innerHTML=o})}},I=function(){let e=a[0].querySelectorAll(".tp-ajax-button.active");0<e.length&&e.forEach(function(e){V("AfterAjax",e)})},V=function(e,t){if(s&&s.AjaxButton&&t){let a=t.dataset&&t.dataset.ajaxbutton?JSON.parse(t.dataset.ajaxbutton):"",l=a&&a.AjaxBtnTxt?a.AjaxBtnTxt:"",o=a&&a.AjaxLoaddingtxt?a.AjaxLoaddingtxt:"",r=a&&a.Ajaxloadicon?a.Ajaxloadicon:"",n=t.querySelectorAll(".tp-ajaxbtn-spinner-loader"),s=t.querySelectorAll(".tp-ajaxbtn-text"),i="display:none",c="";"BeforeAjax"==e?(v=1,t.classList.add("active"),c=o,i="display:inline-flex"):"AfterAjax"==e&&(v=0,t.classList.remove("active"),c=l,i="display:none"),0<s.length&&c&&s.forEach(function(e){e.textContent=c}),r&&0<n.length&&n.forEach(function(e){e.style.cssText=i})}},z=function(e,t,a){e&&"metro"==e[a].layout&&t&&t.parentNode.classList.contains("list-isotope-metro")&&theplus_setup_packery_portfolio("all")},F=function(){p.forEach(function(e,a){"grid"==e.layout||"masonry"==e.layout?u[a].parentNode.classList.contains("list-isotope")&&t(u[a]).isotope("reloadItems").isotope():"metro"==e.layout&&u[a].parentNode.classList.contains("list-isotope-metro")&&setTimeout(function(){theplus_setup_packery_portfolio("all")},300)})},X=function(e,t){let a=p&&p[t].No_PostFound?p[t].No_PostFound:"",l=""==a&&s&&s.errormsg?s.errormsg:a;e.innerHTML="<div class=\"grid-item tp-col-lg-12 tp-col-md-12 tp-col-sm-12 tp-col-12\"><h3 class=\"theplus-posts-not-found\">"+l+"</h3></div>",J(e,t)},J=function(e,t){let a=e.parentNode.querySelectorAll(".ajax_load_more"),l=e.parentNode.querySelectorAll(".ajax_lazy_load"),o=e.parentNode.querySelectorAll(".theplus-pagination");0<a.length?a[0].children[0]&&a[0].children[0].classList.add("hide"):0<l.length?(l[0].style.cssText="display:none",l[0].children[0]&&(l[0].children[0].classList.remove("post-lazy-load"),l[0].children[0].classList.remove("tp-morefilter"),l[0].children[0].classList.remove("filter-loadmore-"+t))):0<o.length&&(o[0].style.cssText="display:none")}};e(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/tp-search-filter.default",t)})})(jQuery);